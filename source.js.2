//h
(function() {
  "use strict";

const rvcCleanup = setInterval(() => {
  let allDone = true;


  const dragOption = document.querySelector("#rvcOptions_drag")?.closest(".rvc-option");
  if (dragOption) dragOption.remove();
  else allDone = false;

  const descTexts = [
    "Angle interpolation",
    "Set a limit to your FPS",
    "Change your turn speed",
    "Zoom with scroll wheel"
  ];
  document.querySelectorAll(".rvc-desc").forEach(el => {
    if (descTexts.some(text => el.textContent.includes(text))) el.remove();
  });
  const optionIds = [
    "rvcInput_backgroundColor",
    "rvcOptions_allDragon",
    "rvcOptions_hideWorld"
  ];
  optionIds.forEach(id => {
    const elem = document.querySelector("#" + id);
    const desc = elem?.closest(".rvc-option")?.querySelector(".rvc-desc");
    if (desc) desc.remove();
    else allDone = false;
  });

  if (allDone) {
    clearInterval(rvcCleanup);
    console.log("âœ… RVC cleanup completed");
  }
}, 300);
const fixRVCFont = setInterval(() => {
  const rvcMenu = document.querySelector("#rvc-menu");
  if (!rvcMenu) return;

  rvcMenu.style.fontFamily = "system-ui, Arial, sans-serif";
  rvcMenu.style.fontWeight = "normal";

  rvcMenu.querySelectorAll("*").forEach(el => {
    el.style.fontFamily = "system-ui, Arial, sans-serif";
    el.style.fontWeight = "normal";
  });

  clearInterval(fixRVCFont);
  console.log("âœ… ØªÙ… ØªÙˆØ­ÙŠØ¯ Ø§Ù„Ø®Ø· ÙÙŠ Ù‚Ø§Ø¦Ù…Ø© RVC");
}, 300);
function initRVCEnhancements() {

  const zoomCheckbox = document.querySelector("#rvcOptions_zoom");
  if (zoomCheckbox) {
    const zoomOption = zoomCheckbox.closest(".rvc-option");
    const container = document.createElement("div");
    container.style.display = "flex";
    container.style.flexDirection = "row";
    container.style.justifyContent = "flex-start";
    container.style.gap = "8px";
    container.style.marginTop = "5px";

    // Ø£Ø²Ø±Ø§Ø± - Ùˆ +
    const zoomOut = createBtn("âˆ’");
    const zoomIn = createBtn("+");

    container.appendChild(zoomOut);
    container.appendChild(zoomIn);
    zoomOption.appendChild(container);

    function createBtn(text) {
      const btn = document.createElement("button");
      btn.textContent = text;
      btn.style.width = "40px";
      btn.style.height = "32px";
      btn.style.borderRadius = "6px";
      btn.style.border = "none";
      btn.style.background = "rgba(122, 92, 241, 0.9)";
      btn.style.color = "white";
      btn.style.fontSize = "20px";
      btn.style.cursor = "pointer";
      return btn;
    }

    function sendWheel(delta) {
      const canvas = document.querySelector("canvas");
      if (!canvas) return;
      const evt = new WheelEvent("wheel", { deltaY: delta, bubbles: true, cancelable: true });
      canvas.dispatchEvent(evt);
    }

    zoomIn.addEventListener("touchstart", e => { e.preventDefault(); sendWheel(-80); });
    zoomOut.addEventListener("touchstart", e => { e.preventDefault(); sendWheel(80); });

    container.style.display = zoomCheckbox.checked ? "flex" : "none";
    zoomCheckbox.addEventListener("change", () => {
      container.style.display = zoomCheckbox.checked ? "flex" : "none";
    });
  }

  const miscTab = document.querySelector("#rvcpage3");
  if (miscTab) {
    miscTab.style.maxHeight = "215px";
    miscTab.style.overflowY = "auto";
  }

  const rvcMenu = document.querySelector("#rvc-menu");
  if (rvcMenu) {
    rvcMenu.style.fontFamily = "system-ui, Arial, sans-serif";
    rvcMenu.style.fontWeight = "normal";
    rvcMenu.querySelectorAll("*").forEach(el => {
      el.style.fontFamily = "system-ui, Arial, sans-serif";
      el.style.fontWeight = "normal";
    });
  }
}
const waitRVC = setInterval(() => {
  if (document.querySelector("#rvc-menu")) {
    clearInterval(waitRVC);
    initRVCEnhancements();
    console.log("âœ… RVC enhancements loaded (Zoom buttons + Scrollable Misc + Fonts)");
  }
}, 300);

  function waitForTitle() {
    const checkExist = setInterval(() => {
      const title = document.querySelector(".rvc-title");
      if (title) {
        clearInterval(checkExist);
        title.remove();
        console.log("âœ… ØªÙ… Ø­Ø°Ù RVJ Modpack Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©");
      }
    }, 500);
  }
  waitForTitle();

  function waitForMenu(callback) {
    const checkExist = setInterval(() => {
      const menu = document.querySelector("#rvc-menu");
      if (menu) {
        clearInterval(checkExist);
        callback(menu);
      }
    }, 500);
  }

  waitForMenu((menu) => {
    console.log("âœ… ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© RVC");

    const toggleBtn = document.createElement("button");
    toggleBtn.textContent = "ðŸ‘ï¸";
    toggleBtn.title = "Ø¥Ø®ÙØ§Ø¡/Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©";
    toggleBtn.style.position = "fixed";
    toggleBtn.style.top = "-20px";
    toggleBtn.style.left = "130px";
    toggleBtn.style.zIndex = "999999";
    toggleBtn.style.width = "40px";
    toggleBtn.style.height = "40px";
    toggleBtn.style.borderRadius = "50%";
    toggleBtn.style.border = "none";
    toggleBtn.style.background = "rgba(34, 34, 34, 0.3)";
    toggleBtn.style.color = "white";
    toggleBtn.style.fontSize = "20px";
    toggleBtn.style.cursor = "pointer";
    toggleBtn.style.opacity = "0.2";

    document.body.appendChild(toggleBtn);

    let visible = true;
    toggleBtn.addEventListener("click", () => {
      if (visible) {
        menu.style.display = "none";
        toggleBtn.textContent = "ðŸ™ˆ";
      } else {
        menu.style.display = "block";
        toggleBtn.textContent = "ðŸ‘ï¸";
      }
      visible = !visible;
    });
  });

const mButton = document.createElement('button');
mButton.textContent = 'M';
mButton.title = 'Ø§Ø¶ØºØ· Ù„ØªÙØ¹ÙŠÙ„ M';
mButton.style.position = 'fixed';
mButton.style.bottom = '0px';
mButton.style.right = '0px';
mButton.style.width = '30px';
mButton.style.height = '30px';
mButton.style.borderRadius = '10px';
mButton.style.border = 'none';
mButton.style.background = 'rgba(0, 150, 255, 0.5)';
mButton.style.color = 'white';
mButton.style.fontSize = '20px';
mButton.style.cursor = 'pointer';
mButton.style.zIndex = '99999';

document.body.appendChild(mButton);

mButton.addEventListener('click', () => {
    const event = new KeyboardEvent('keydown', {
        key: 'm',
        code: 'KeyM',
        keyCode: 77,
        which: 77,
        bubbles: true,
        cancelable: true
    });
    document.dispatchEvent(event);
});
})();
